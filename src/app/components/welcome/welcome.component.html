<app-menu></app-menu>
<ion-header translucent>
    <ion-toolbar>
        <ion-title>Recettes </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content  fullscreen>
            <ion-card>
           
       <form [formGroup]="recipeSearchForm" (ngSubmit)="searchSubmit()">
           <ion-item>
               <ion-label position='floating'>
               Recherche
               </ion-label>
               <ion-input type='text' formControlName='query'></ion-input>
           </ion-item>
           <ion-button type="submit"> Chercher </ion-button>
       </form>
    </ion-card>
        
    
    <ion-content>
    <ion-card *ngIf="result && result.spoon && result?.spoon.results?.length">
        <ion-list>
           
            <ion-item *ngFor="let recipe of result.spoon.results">
              <ion-thumbnail slot="start"><ion-img src='{{apiSpoonImg}}{{recipe.image}}'></ion-img></ion-thumbnail> 
               <ion-title> {{ recipe.title }}</ion-title>
               
               <div
               *ngIf="recipe.vegetarian"
               style="margin-bottom: 16px; margin-left: 5px; color: darkgreen"
             >
               (Veg {{ recipe.vegan ? ", Vegan" : ""
               }}{{ recipe.glutenFree ? ", Gluten free" : ""
               }}{{ recipe.dairyFree ? ", Dairy free" : "" }})

             </div>
             {{ recipe | json }}
                <!--{{recipe }}-->
              <!--
             
                
            <h4>
            {{ recipe.readyInMinutes }} minutes preparation time for
            {{ recipe.servings }} Servings
          </h4>
          <h4 class="heading">Summary</h4>
          <p [innerHTML]="recipe.summary"></p>
          
            <h3 class="heading">Instructions:</h3>

            <p
            *ngFor="let instruction of recipe.analyzedInstructions"
            style="margin-left: 5px"
          ></p>
          <p *ngFor="let step of recipe.steps"></p>
          <p>
            {{ recipe.step }}
          </p>

                <ion-list>
                      <ion-thumbnail slot="start">
                        <ion-img src='{{apiSpoonImg}}{{recipe.image}}' >
                            </ion-img>
                      </ion-thumbnail> 
                  </ion-list>
                  -->
                  <ion-button (click)="showRecipe(recipe)">See more</ion-button>
            </ion-item>
        </ion-list>
    </ion-card>
</ion-content>
